<p class="lead">Details</p>

<% duplicates = count_duplicates(domains) %>

<% if duplicates.present? %>
  <p>Duplicate Domains</p>
  <table width="100%">
    <thead>
      <tr>
        <th width="90%">Domain</th>
        <th>Count</th>
      </tr>
    </thead>
    <tbody>
      <% duplicates.each do |domain| %>
        <tr>
          <td><%= domain.name %></td>
          <td><%= domain.extra_attr[:occurrences_count] %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>

<p>TLDs Count</p>
<table width="100%">
  <thead>
    <tr>
      <th width="90%">TLD</th>
      <th>Count</th>
    </tr>
  </thead>
  <tbody>
    <% count_tlds(domains).each do |tld, count| %>
      <tr>
        <td><%= tld %></td>
        <td><%= count %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<p><%= duplicates.empty? ? "Domains count: " : "Domains count (with no duplicates): " %><%= domains.count %></p>